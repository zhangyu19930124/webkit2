<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>照片墙</title>
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }
    
    body {
        background: url("images/bg.jpg");
        overflow: hidden;
    }
    
    .polaroid {
        padding: 10px;
        background: #FFF;
        text-align: center;
        width: auto;
        position: absolute;
    }
    
    .cover {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 10;
    }
    </style>
</head>

<body>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/1.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/2.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/3.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/4.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/5.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/6.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/7.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/8.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/9.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
    <div class="polaroid">
        <div class="cover"></div>
        <img src="images/10.png" alt="" />
        <p>可以使用键盘上的左右箭头进行旋转调整</p>
    </div>
</body>
<script type="text/javascript">
var covers1 ;
var pre =null;
window.onload=function(){
	covers1 = getbyclassname('div','cover');
	pre = covers1[0];
	show();

}
function show(){
	var winW = win('width');
	var winH = win('height');
	for(var i=0;i<covers1.length;i++){
		var c = covers1[i];
		var left = Math.random()*(winW-c.offsetWidth*1.2);
		var top = Math.random()*(winH-c.offsetHeight);
		var de = Math.random()*90;
		if(i%2==0){
			de = -de;
		}
		c.parentNode.style.left=left+'px';
		c.parentNode.style.top=top+'px';
		c.parentNode.style.transform='rotate('+de+'deg)';
		c.onclick=function(){
			pre.parentNode.style.zIndex=0;
			this.parentNode.style.zIndex=10;
			pre=this;
			drag(this.parentNode);
		}
	}

}

function getbyclassname(tagname, classname) { //通过类名获取元素函数，参数为父元素、类名，返回值为元素数组
    var result = new Array();
    var allclass = document.getElementsByTagName(tagname);
    for (var i = 0; i < allclass.length; i++) {

        if (classname == allclass[i].className)
            result.push(allclass[i]);
    }
    return result;
}
//求浏览器窗口的可视区域
function win(attr) {
    switch (attr) {
        case 'height':
            return window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
            break;
        case 'width':
            var w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
            return w;

            break;
    }
}
function drag(obj){
	obj.onmousedown=function(e){
		var ev = e||event;
		var disX = ev.clientX-obj.offsetLeft;
		var disY = ev.clientY-obj.offsetTop;
		document.onmousemove=function(e){
			var oev = e||window.event;
			var left = oev.clientX - disX;
            var top = oev.clientY - disY;
            obj.style.left = left + 'px'; //更新对象的位置
            obj.style.top = top + 'px';
		}
		document.onmouseup=function(){
			document.onmousemove=null;
			document.onmouseup=null;
		}
	}
}
</script>

</html>
